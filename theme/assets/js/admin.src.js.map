{"version":3,"sources":["src/admin.js"],"names":[],"mappings":"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","file":"admin.src.js","sourcesContent":["window.ctcl = {\n\taddTopic: function( e ) {\n\t\tvar lastRow = e.target.parentNode;\n\t\tvar lastAddButton = lastRow.querySelector( '.button' );\n\t\tvar newRemoveButton = document.createElement( 'input' );\n\t\tvar newRow = lastRow.cloneNode( true );\n\n\t\tnewRemoveButton.setAttribute( 'type', 'button' );\n\t\tnewRemoveButton.setAttribute( 'class', 'button remove' );\n\t\tnewRemoveButton.setAttribute( 'value', 'Remove' );\n\t\tnewRemoveButton.addEventListener( 'click', removeTopic );\n\n\t\tnewRow.querySelector( '.button.add' ).addEventListener( 'click', addTopic );\n\t\tnewRow.querySelector( '.multitext' ).value = '';\n\t\tlastRow.appendChild( newRemoveButton );\n\t\tlastAddButton.remove();\n\t\tlastRow.parentNode.appendChild( newRow );\n\t},\n\n\tremoveTopic: function( e ) {\n\t\te.target.parentNode.remove();\n\t},\n\n\thandleTopics: function() {\n\t\tvar addButton, removeButtons;\n\n\t\taddButton = document.querySelector( '.button.add' );\n\t\tif ( addButton ) {\n\t\t\taddButton.addEventListener( 'click', window.ctcl.addTopic );\n\t\t}\n\n\t\tremoveButtons = document.querySelectorAll( '.button.remove' );\n\t\tif ( removeButtons ) {\n\t\t\tremoveButtons.forEach( function( b ) {\n\t\t\t\tb.addEventListener( 'click', window.ctcl.removeTopic );\n\t\t\t} );\n\t\t}\n\t},\n\n\thandleBanner: function() {\n\t\tvar uploadButton = document.getElementById( 'upload_banner_image' );\n\t\tvar removeButton = document.querySelector( '.button.remove' );\n\n\t\tif ( uploadButton ) {\n\t\t\tuploadButton.addEventListener( 'click', window.ctcl.handleBannerUpload );\n\t\t}\n\n\t\tif ( removeButton ) {\n\t\t\tremoveButton.addEventListener( 'click', window.ctcl.removeBannerThumbnail );\n\t\t}\n\t},\n\n\tremoveBannerThumbnail: function( e ) {\n\t\tvar imageId = document.getElementById( 'banner_image' );\n\t\tvar imageTag = e.target.parentNode.querySelector( 'img' );\n\n\t\te.target.setAttribute( 'disabled', 'disabled' );\n\n\t\tif ( imageId ) {\n\t\t\timageId.value = '';\n\t\t}\n\n\t\tif ( imageTag ) {\n\t\t\timageTag.remove();\n\t\t}\n\t},\n\n\thandleBannerUpload: function( e ) {\n\t\tvar mediaUploader;\n\t\te.preventDefault();\n\t\tif ( mediaUploader ) {\n\t\t\tmediaUploader.open();\n\t\t\treturn;\n\t\t}\n\n\t\tmediaUploader = wp.media.frames.file_frame = wp.media( {\n\t\t\ttitle: 'Choose Image',\n\t\t\tbutton: {\n\t\t\t\ttext: 'Choose Image'\n\t\t\t}, multiple: false } );\n\n\t\tmediaUploader.on( 'select', function() {\n\t\t\tvar imgTag = e.target.parentNode.querySelector( 'img' );\n\t\t\tvar removeButton = e.target.parentNode.querySelector( '.button.remove' );\n\t\t\tvar newImgTag = document.createElement( 'img' );\n\t\t\tvar attachment = mediaUploader.state().get( 'selection' ).first().toJSON();\n\t\t\tdocument.getElementById( 'banner_image' ).value = attachment.id;\n\n\t\t\tif ( imgTag ) {\n\t\t\t\timgTag.remove();\n\t\t\t}\n\n\t\t\tif ( removeButton ) {\n\t\t\t\tremoveButton.removeAttribute( 'disabled' );\n\t\t\t}\n\n\t\t\tnewImgTag.setAttribute( 'id', 'banner_image_thumbnail' );\n\t\t\tnewImgTag.setAttribute( 'alt', attachment.title );\n\t\t\tnewImgTag.setAttribute( 'src', attachment.sizes.thumbnail.url );\n\t\t\tnewImgTag.setAttribute( 'width', attachment.sizes.thumbnail.width );\n\t\t\tnewImgTag.setAttribute( 'heigt', attachment.sizes.thumbnail.height );\n\n\t\t\te.target.parentNode.appendChild( newImgTag );\n\t\t} );\n\n\t\tmediaUploader.open();\n\t}\n};\n\ndocument.addEventListener( 'DOMContentLoaded', function() {\n\tif ( 'elections_page_topics' === window.pagenow ) {\n\t\twindow.ctcl.handleTopics();\n\t}\telse if ( 'elections_page_banner' === window.pagenow ) {\n\t\twindow.ctcl.handleBanner();\n\t}\n} );\n"]}